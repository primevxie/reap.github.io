<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reap Admin Panel</title>
    <style>
        body { background: #0a0a0a; color: white; font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; flex-direction: column; }
        input, button, select { padding: 10px; margin: 5px; width: 300px; background: #222; border: 1px solid #444; color: white; border-radius: 5px; }
        button { background: #DD2020; border: none; font-weight: bold; cursor: pointer; }
        button:hover { background: #ff2a2a; }
        .log { margin-top: 20px; color: #0f0; }
        .error { color: #f00; }
    </style>
</head>
<body>
    <h1>âš¡ God Mode</h1>
    
    <input type="password" id="adminPass" placeholder="Admin Password">
    <input type="text" id="discordId" placeholder="Customer Discord ID">
    
    <select id="duration">
        <option value="30">1 Month (30 Days)</option>
        <option value="90">3 Months (90 Days)</option>
        <option value="36500">Lifetime (100 Years)</option>
    </select>

    <button onclick="whitelistUser()">Whitelist User</button>

    <div id="status" class="log"></div>

    <script>
        async function whitelistUser() {
            const pass = document.getElementById('adminPass').value;
            const id = document.getElementById('discordId').value;
            const days = document.getElementById('duration').value;
            const status = document.getElementById('status');

            status.textContent = "Processing...";
            status.className = "log";

            try {
                const req = await fetch('/api/admin/add', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        password: pass,
                        discord_id: id,
                        days: days
                    })
                });

                const res = await req.json();

                if (req.ok) {
                    status.textContent = res.message + " (Expires: " + res.expires + ")";
                    status.style.color = "#2ecc71";
                    document.getElementById('discordId').value = ""; 
                } else {
                    status.textContent = "Error: " + (res.error || "Unknown");
                    status.style.color = "red";
                }
            } catch (e) {
                status.textContent = "System Error";
                status.style.color = "red";
            }
        }
    </script>
</body>
</html>
